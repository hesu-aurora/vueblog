<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>地图平移事件</title>
</head>
<script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77"></script>
<style type="text/css">
    html,
    body {
        height: 100%;
        margin: 0px;
        padding: 0px;
    }

    #container {
        width: 100%;
        height: 100%;
    }
    #info{
        position: absolute;
        bottom:50px;
        left:50%;
        transform: translateX(-50%);
        background: #FFF;
        border-radius: 3px;
        padding: 10px;
        width: 440px;
    }
</style>

<body onload="initMap()">
    <div id="container"></div>
    <div id="info">
        <h4 id="txt"></h4>
        <p>当前中心点：<span id="position"></span></p>
    </div>

    <script>
        function initMap() {
            var position = document.getElementById("position");
            var txt = document.getElementById("txt");
            var center = new TMap.LatLng(39.984104, 116.307503);//设置中心点坐标
            //初始化地图
            var map = new TMap.Map("container", {
                center: center
            });
            location.innerHTML = map.getCenter().toString();
            //监听地图开始平移
            map.on("panstart", function () {
                txt.innerHTML = "地图开始平移"
            })
            //监听地图平移
            map.on("pan",function(){
                txt.innerHTML = "地图正在平移";
                position.innerHTML = map.getCenter().toString();//获取地图中心点
            })
            //监听地图平移结束
            map.on("panend",function(){
                txt.innerHTML = "地图结束平移";
            })
        }
    </script>
</body>

</html>